{"id":"hxmo","dependencies":[{"name":"C:\\Users\\User1\\Documents\\NodeProjects\\maps-test\\node_modules\\ol\\geom\\flat\\textpath.js.map","includedInParent":true,"mtime":499162500000},{"name":"C:\\Users\\User1\\Documents\\NodeProjects\\maps-test\\node_modules\\ol\\src\\geom\\flat\\textpath.js","includedInParent":true,"mtime":499162500000},{"name":"C:\\Users\\User1\\Documents\\NodeProjects\\maps-test\\package.json","includedInParent":true,"mtime":1606378954185},{"name":"C:\\Users\\User1\\Documents\\NodeProjects\\maps-test\\.babelrc","includedInParent":true,"mtime":1596539070153},{"name":"C:\\Users\\User1\\Documents\\NodeProjects\\maps-test\\node_modules\\ol\\package.json","includedInParent":true,"mtime":1606376752621},{"name":"../../math.js","loc":{"line":4,"column":21},"parent":"C:\\Users\\User1\\Documents\\NodeProjects\\maps-test\\node_modules\\ol\\geom\\flat\\textpath.js","resolved":"C:\\Users\\User1\\Documents\\NodeProjects\\maps-test\\node_modules\\ol\\math.js"},{"name":"./transform.js","loc":{"line":5,"column":23},"parent":"C:\\Users\\User1\\Documents\\NodeProjects\\maps-test\\node_modules\\ol\\geom\\flat\\textpath.js","resolved":"C:\\Users\\User1\\Documents\\NodeProjects\\maps-test\\node_modules\\ol\\geom\\flat\\transform.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.drawTextOnPath=r;var t=require(\"../../math.js\"),a=require(\"./transform.js\");function r(r,e,h,M,o,s,n,v,i,l,p,u){var f,P=[];if(u){var I=(0,a.rotate)(r,e,h,M,u,[r[e],r[e+1]]);f=I[0]>I[I.length-M]}else f=r[e]>r[h-M];for(var w,d,q=o.length,c=r[e],j=r[e+1],x=r[e+=M],b=r[e+1],g=0,m=Math.sqrt(Math.pow(x-c,2)+Math.pow(b-j,2)),O=!1,_=0;_<q;++_){for(var y=o[w=f?q-_-1:_],T=v*i(l,y,p),k=s+T/2;e<h-M&&g+m<k;)c=x,j=b,x=r[e+=M],b=r[e+1],g+=m,m=Math.sqrt(Math.pow(x-c,2)+Math.pow(b-j,2));var z=k-g,A=Math.atan2(b-j,x-c);if(f&&(A+=A>0?-Math.PI:Math.PI),void 0!==d){var B=A-d;if(O=O||0!==B,B+=B>Math.PI?-2*Math.PI:B<-Math.PI?2*Math.PI:0,Math.abs(B)>n)return null}d=A;var C=z/m,D=(0,t.lerp)(c,x,C),E=(0,t.lerp)(j,b,C);P[w]=[D,E,T/2,A,y],s+=T}return O?P:[[P[0][0],P[0][1],P[0][2],P[0][3],o]]}"},"sourceMaps":{"js":{"mappings":[{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":107,"column":1},"generated":{"line":1,"column":0}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":107,"column":1},"generated":{"line":1,"column":13}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":107,"column":1},"generated":{"line":1,"column":20}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":107,"column":1},"generated":{"line":1,"column":35}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":107,"column":1},"generated":{"line":1,"column":43}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":107,"column":1},"generated":{"line":1,"column":56}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":107,"column":1},"generated":{"line":1,"column":57}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":107,"column":1},"generated":{"line":1,"column":64}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":107,"column":1},"generated":{"line":1,"column":68}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":107,"column":1},"generated":{"line":1,"column":76}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":107,"column":1},"generated":{"line":1,"column":91}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":93}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":97}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":99}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":107}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":124}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":126}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":134}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":23,"column":6},"generated":{"line":1,"column":152}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":23,"column":16},"generated":{"line":1,"column":161}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":24,"column":2},"generated":{"line":1,"column":163}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":25,"column":2},"generated":{"line":1,"column":165}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":26,"column":2},"generated":{"line":1,"column":167}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":27,"column":2},"generated":{"line":1,"column":169}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":28,"column":2},"generated":{"line":1,"column":171}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":29,"column":2},"generated":{"line":1,"column":173}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":30,"column":2},"generated":{"line":1,"column":175}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":31,"column":2},"generated":{"line":1,"column":177}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":32,"column":2},"generated":{"line":1,"column":179}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":33,"column":2},"generated":{"line":1,"column":181}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":34,"column":2},"generated":{"line":1,"column":183}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":35,"column":2},"generated":{"line":1,"column":185}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":37,"column":8},"generated":{"line":1,"column":188}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":40,"column":6},"generated":{"line":1,"column":192}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":37,"column":8},"generated":{"line":1,"column":194}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":37,"column":17},"generated":{"line":1,"column":196}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":41,"column":6},"generated":{"line":1,"column":199}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":41,"column":6},"generated":{"line":1,"column":202}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":41,"column":16},"generated":{"line":1,"column":204}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":42,"column":10},"generated":{"line":1,"column":205}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":42,"column":10},"generated":{"line":1,"column":209}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":42,"column":31},"generated":{"line":1,"column":212}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":43,"column":6},"generated":{"line":1,"column":214}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":43,"column":6},"generated":{"line":1,"column":216}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":43,"column":6},"generated":{"line":1,"column":224}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":44,"column":6},"generated":{"line":1,"column":226}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":45,"column":6},"generated":{"line":1,"column":228}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":46,"column":6},"generated":{"line":1,"column":230}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":47,"column":6},"generated":{"line":1,"column":232}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":48,"column":6},"generated":{"line":1,"column":234}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":48,"column":7},"generated":{"line":1,"column":235}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":48,"column":23},"generated":{"line":1,"column":237}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":48,"column":32},"generated":{"line":1,"column":240}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":48,"column":48},"generated":{"line":1,"column":242}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":48,"column":57},"generated":{"line":1,"column":244}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":50,"column":4},"generated":{"line":1,"column":249}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":51,"column":6},"generated":{"line":1,"column":251}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":51,"column":25},"generated":{"line":1,"column":253}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":52,"column":6},"generated":{"line":1,"column":256}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":52,"column":25},"generated":{"line":1,"column":258}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":52,"column":44},"generated":{"line":1,"column":260}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":52,"column":53},"generated":{"line":1,"column":267}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":54,"column":4},"generated":{"line":1,"column":275}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":54,"column":14},"generated":{"line":1,"column":277}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":54,"column":30},"generated":{"line":1,"column":279}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":54,"column":40},"generated":{"line":1,"column":282}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":54,"column":56},"generated":{"line":1,"column":284}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":54,"column":62},"generated":{"line":1,"column":286}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":69,"column":7},"generated":{"line":1,"column":289}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":57,"column":8},"generated":{"line":1,"column":293}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":68,"column":6},"generated":{"line":1,"column":297}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":68,"column":13},"generated":{"line":1,"column":299}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":57,"column":8},"generated":{"line":1,"column":301}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":57,"column":19},"generated":{"line":1,"column":303}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":57,"column":24},"generated":{"line":1,"column":305}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":59,"column":6},"generated":{"line":1,"column":312}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":59,"column":11},"generated":{"line":1,"column":314}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":59,"column":27},"generated":{"line":1,"column":316}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":60,"column":6},"generated":{"line":1,"column":319}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":60,"column":11},"generated":{"line":1,"column":321}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":60,"column":27},"generated":{"line":1,"column":323}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":60,"column":36},"generated":{"line":1,"column":325}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":62,"column":6},"generated":{"line":1,"column":328}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":62,"column":11},"generated":{"line":1,"column":330}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":61,"column":2},"generated":{"line":1,"column":332}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":61,"column":12},"generated":{"line":1,"column":335}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":63,"column":6},"generated":{"line":1,"column":338}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":63,"column":11},"generated":{"line":1,"column":340}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":63,"column":27},"generated":{"line":1,"column":342}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":63,"column":36},"generated":{"line":1,"column":344}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":64,"column":6},"generated":{"line":1,"column":347}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":64,"column":17},"generated":{"line":1,"column":349}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":65,"column":6},"generated":{"line":1,"column":351}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":65,"column":22},"generated":{"line":1,"column":353}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":65,"column":27},"generated":{"line":1,"column":358}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":65,"column":32},"generated":{"line":1,"column":363}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":65,"column":37},"generated":{"line":1,"column":368}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":65,"column":41},"generated":{"line":1,"column":372}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":65,"column":46},"generated":{"line":1,"column":374}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":65,"column":50},"generated":{"line":1,"column":376}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":65,"column":55},"generated":{"line":1,"column":379}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":65,"column":60},"generated":{"line":1,"column":384}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":65,"column":64},"generated":{"line":1,"column":388}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":65,"column":69},"generated":{"line":1,"column":390}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":65,"column":73},"generated":{"line":1,"column":392}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":66,"column":6},"generated":{"line":1,"column":396}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":66,"column":21},"generated":{"line":1,"column":399}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":69,"column":11},"generated":{"line":1,"column":401}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":69,"column":15},"generated":{"line":1,"column":403}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":69,"column":18},"generated":{"line":1,"column":405}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":69,"column":22},"generated":{"line":1,"column":407}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":69,"column":34},"generated":{"line":1,"column":411}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":69,"column":37},"generated":{"line":1,"column":413}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":74,"column":11},"generated":{"line":1,"column":414}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":71,"column":10},"generated":{"line":1,"column":418}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":71,"column":10},"generated":{"line":1,"column":422}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":71,"column":17},"generated":{"line":1,"column":424}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":70,"column":4},"generated":{"line":1,"column":426}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":70,"column":12},"generated":{"line":1,"column":428}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":70,"column":22},"generated":{"line":1,"column":430}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":70,"column":33},"generated":{"line":1,"column":432}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":70,"column":37},"generated":{"line":1,"column":434}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":70,"column":41},"generated":{"line":1,"column":436}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":72,"column":10},"generated":{"line":1,"column":439}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":72,"column":23},"generated":{"line":1,"column":441}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":72,"column":31},"generated":{"line":1,"column":443}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":72,"column":56},"generated":{"line":1,"column":445}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":72,"column":62},"generated":{"line":1,"column":447}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":72,"column":68},"generated":{"line":1,"column":449}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":73,"column":10},"generated":{"line":1,"column":452}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":73,"column":18},"generated":{"line":1,"column":454}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":73,"column":27},"generated":{"line":1,"column":456}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":73,"column":40},"generated":{"line":1,"column":458}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":74,"column":11},"generated":{"line":1,"column":460}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":74,"column":20},"generated":{"line":1,"column":462}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":74,"column":26},"generated":{"line":1,"column":464}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":74,"column":36},"generated":{"line":1,"column":467}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":74,"column":47},"generated":{"line":1,"column":469}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":74,"column":63},"generated":{"line":1,"column":471}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":75,"column":6},"generated":{"line":1,"column":474}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":75,"column":11},"generated":{"line":1,"column":476}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":76,"column":6},"generated":{"line":1,"column":478}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":76,"column":11},"generated":{"line":1,"column":480}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":78,"column":6},"generated":{"line":1,"column":482}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":78,"column":11},"generated":{"line":1,"column":484}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":77,"column":6},"generated":{"line":1,"column":486}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":77,"column":16},"generated":{"line":1,"column":489}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":79,"column":6},"generated":{"line":1,"column":492}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":79,"column":11},"generated":{"line":1,"column":494}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":79,"column":27},"generated":{"line":1,"column":496}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":79,"column":36},"generated":{"line":1,"column":498}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":80,"column":6},"generated":{"line":1,"column":501}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":80,"column":18},"generated":{"line":1,"column":504}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":81,"column":6},"generated":{"line":1,"column":506}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":81,"column":22},"generated":{"line":1,"column":508}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":81,"column":27},"generated":{"line":1,"column":513}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":81,"column":32},"generated":{"line":1,"column":518}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":81,"column":37},"generated":{"line":1,"column":523}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":81,"column":41},"generated":{"line":1,"column":527}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":81,"column":46},"generated":{"line":1,"column":529}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":81,"column":50},"generated":{"line":1,"column":531}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":81,"column":55},"generated":{"line":1,"column":534}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":81,"column":60},"generated":{"line":1,"column":539}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":81,"column":64},"generated":{"line":1,"column":543}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":81,"column":69},"generated":{"line":1,"column":545}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":81,"column":73},"generated":{"line":1,"column":547}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":83,"column":10},"generated":{"line":1,"column":551}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":83,"column":10},"generated":{"line":1,"column":555}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":83,"column":23},"generated":{"line":1,"column":557}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":83,"column":31},"generated":{"line":1,"column":559}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":84,"column":8},"generated":{"line":1,"column":561}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":84,"column":16},"generated":{"line":1,"column":563}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":84,"column":21},"generated":{"line":1,"column":568}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":84,"column":27},"generated":{"line":1,"column":574}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":84,"column":32},"generated":{"line":1,"column":576}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":84,"column":36},"generated":{"line":1,"column":578}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":84,"column":41},"generated":{"line":1,"column":580}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":88,"column":8},"generated":{"line":1,"column":583}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":85,"column":8},"generated":{"line":1,"column":586}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":86,"column":6},"generated":{"line":1,"column":590}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":86,"column":15},"generated":{"line":1,"column":593}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":86,"column":23},"generated":{"line":1,"column":595}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":86,"column":28},"generated":{"line":1,"column":598}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":86,"column":33},"generated":{"line":1,"column":603}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":86,"column":38},"generated":{"line":1,"column":606}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":86,"column":43},"generated":{"line":1,"column":611}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":88,"column":26},"generated":{"line":1,"column":620}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":88,"column":8},"generated":{"line":1,"column":624}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":88,"column":37},"generated":{"line":1,"column":626}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":89,"column":10},"generated":{"line":1,"column":627}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":89,"column":10},"generated":{"line":1,"column":631}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":89,"column":18},"generated":{"line":1,"column":633}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":89,"column":26},"generated":{"line":1,"column":635}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":93,"column":10},"generated":{"line":1,"column":637}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":90,"column":6},"generated":{"line":1,"column":640}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":90,"column":21},"generated":{"line":1,"column":642}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":90,"column":47},"generated":{"line":1,"column":645}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":90,"column":37},"generated":{"line":1,"column":649}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":91,"column":6},"generated":{"line":1,"column":651}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":92,"column":8},"generated":{"line":1,"column":654}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":92,"column":16},"generated":{"line":1,"column":656}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":92,"column":21},"generated":{"line":1,"column":661}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":92,"column":27},"generated":{"line":1,"column":665}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":92,"column":31},"generated":{"line":1,"column":667}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":92,"column":36},"generated":{"line":1,"column":672}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":92,"column":41},"generated":{"line":1,"column":675}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":92,"column":50},"generated":{"line":1,"column":678}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":92,"column":55},"generated":{"line":1,"column":683}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":92,"column":60},"generated":{"line":1,"column":686}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":92,"column":64},"generated":{"line":1,"column":688}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":92,"column":69},"generated":{"line":1,"column":693}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":92,"column":74},"generated":{"line":1,"column":696}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":93,"column":10},"generated":{"line":1,"column":698}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":93,"column":15},"generated":{"line":1,"column":703}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":93,"column":19},"generated":{"line":1,"column":707}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":93,"column":28},"generated":{"line":1,"column":710}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":94,"column":15},"generated":{"line":1,"column":712}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":94,"column":15},"generated":{"line":1,"column":719}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":97,"column":4},"generated":{"line":1,"column":724}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":97,"column":20},"generated":{"line":1,"column":726}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":98,"column":10},"generated":{"line":1,"column":728}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":98,"column":10},"generated":{"line":1,"column":732}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":98,"column":24},"generated":{"line":1,"column":734}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":98,"column":37},"generated":{"line":1,"column":736}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":99,"column":10},"generated":{"line":1,"column":738}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":99,"column":14},"generated":{"line":1,"column":741}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":99,"column":19},"generated":{"line":1,"column":743}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":99,"column":19},"generated":{"line":1,"column":745}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":99,"column":19},"generated":{"line":1,"column":751}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":99,"column":23},"generated":{"line":1,"column":753}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":99,"column":27},"generated":{"line":1,"column":755}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":100,"column":10},"generated":{"line":1,"column":758}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":100,"column":14},"generated":{"line":1,"column":761}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":100,"column":19},"generated":{"line":1,"column":763}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":100,"column":19},"generated":{"line":1,"column":765}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":100,"column":19},"generated":{"line":1,"column":771}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":100,"column":23},"generated":{"line":1,"column":773}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":100,"column":27},"generated":{"line":1,"column":775}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":101,"column":4},"generated":{"line":1,"column":778}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":101,"column":11},"generated":{"line":1,"column":780}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":101,"column":20},"generated":{"line":1,"column":783}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":101,"column":21},"generated":{"line":1,"column":784}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":101,"column":24},"generated":{"line":1,"column":786}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":101,"column":27},"generated":{"line":1,"column":788}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":101,"column":40},"generated":{"line":1,"column":790}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":101,"column":43},"generated":{"line":1,"column":792}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":101,"column":50},"generated":{"line":1,"column":794}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":102,"column":4},"generated":{"line":1,"column":797}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":102,"column":14},"generated":{"line":1,"column":800}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":104,"column":9},"generated":{"line":1,"column":802}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":104,"column":9},"generated":{"line":1,"column":809}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":105,"column":6},"generated":{"line":1,"column":811}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":106,"column":6},"generated":{"line":1,"column":813}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":106,"column":7},"generated":{"line":1,"column":814}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":106,"column":8},"generated":{"line":1,"column":815}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":106,"column":15},"generated":{"line":1,"column":817}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":106,"column":18},"generated":{"line":1,"column":820}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":106,"column":22},"generated":{"line":1,"column":823}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":106,"column":29},"generated":{"line":1,"column":825}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":106,"column":32},"generated":{"line":1,"column":828}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":106,"column":36},"generated":{"line":1,"column":831}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":106,"column":43},"generated":{"line":1,"column":833}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":106,"column":46},"generated":{"line":1,"column":836}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":106,"column":50},"generated":{"line":1,"column":839}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":106,"column":57},"generated":{"line":1,"column":841}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":106,"column":60},"generated":{"line":1,"column":844}},{"source":"../../src/geom/flat/textpath.js","name":null,"original":{"line":106,"column":64},"generated":{"line":1,"column":847}}],"sources":{"../../src/geom/flat/textpath.js":"/**\n * @module ol/geom/flat/textpath\n */\nimport {lerp} from '../../math.js';\nimport {rotate} from './transform.js';\n\n/**\n * @param {Array<number>} flatCoordinates Path to put text on.\n * @param {number} offset Start offset of the `flatCoordinates`.\n * @param {number} end End offset of the `flatCoordinates`.\n * @param {number} stride Stride.\n * @param {string} text Text to place on the path.\n * @param {number} startM m along the path where the text starts.\n * @param {number} maxAngle Max angle between adjacent chars in radians.\n * @param {number} scale The product of the text scale and the device pixel ratio.\n * @param {function(string, string, Object<string, number>):number} measureAndCacheTextWidth Measure and cache text width.\n * @param {string} font The font.\n * @param {Object<string, number>} cache A cache of measured widths.\n * @param {number} rotation Rotation to apply to the flatCoordinates to determine whether text needs to be reversed.\n * @return {Array<Array<*>>} The result array (or null if `maxAngle` was\n * exceeded). Entries of the array are x, y, anchorX, angle, chunk.\n */\nexport function drawTextOnPath(\n  flatCoordinates,\n  offset,\n  end,\n  stride,\n  text,\n  startM,\n  maxAngle,\n  scale,\n  measureAndCacheTextWidth,\n  font,\n  cache,\n  rotation\n) {\n  const result = [];\n\n  // Keep text upright\n  let reverse;\n  if (rotation) {\n    const rotatedCoordinates = rotate(\n      flatCoordinates,\n      offset,\n      end,\n      stride,\n      rotation,\n      [flatCoordinates[offset], flatCoordinates[offset + 1]]\n    );\n    reverse =\n      rotatedCoordinates[0] >\n      rotatedCoordinates[rotatedCoordinates.length - stride];\n  } else {\n    reverse = flatCoordinates[offset] > flatCoordinates[end - stride];\n  }\n\n  const numChars = text.length;\n\n  let x1 = flatCoordinates[offset];\n  let y1 = flatCoordinates[offset + 1];\n  offset += stride;\n  let x2 = flatCoordinates[offset];\n  let y2 = flatCoordinates[offset + 1];\n  let segmentM = 0;\n  let segmentLength = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\n  let angleChanged = false;\n\n  let index, previousAngle;\n  for (let i = 0; i < numChars; ++i) {\n    index = reverse ? numChars - i - 1 : i;\n    const char = text[index];\n    const charLength = scale * measureAndCacheTextWidth(font, char, cache);\n    const charM = startM + charLength / 2;\n    while (offset < end - stride && segmentM + segmentLength < charM) {\n      x1 = x2;\n      y1 = y2;\n      offset += stride;\n      x2 = flatCoordinates[offset];\n      y2 = flatCoordinates[offset + 1];\n      segmentM += segmentLength;\n      segmentLength = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\n    }\n    const segmentPos = charM - segmentM;\n    let angle = Math.atan2(y2 - y1, x2 - x1);\n    if (reverse) {\n      angle += angle > 0 ? -Math.PI : Math.PI;\n    }\n    if (previousAngle !== undefined) {\n      let delta = angle - previousAngle;\n      angleChanged = angleChanged || delta !== 0;\n      delta +=\n        delta > Math.PI ? -2 * Math.PI : delta < -Math.PI ? 2 * Math.PI : 0;\n      if (Math.abs(delta) > maxAngle) {\n        return null;\n      }\n    }\n    previousAngle = angle;\n    const interpolate = segmentPos / segmentLength;\n    const x = lerp(x1, x2, interpolate);\n    const y = lerp(y1, y2, interpolate);\n    result[index] = [x, y, charLength / 2, angle, char];\n    startM += charLength;\n  }\n  return angleChanged\n    ? result\n    : [[result[0][0], result[0][1], result[0][2], result[0][3], text]];\n}\n"},"lineCount":null}},"error":null,"hash":"ab851580f42ed7e34a6eb429d3ca0def","cacheData":{"env":{}}}